<!DOCTYPE html>
<html>
<head>
	<meta charset = "UTF-8">
	<title>Apple</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Banana music">
	<meta name="keywords" content="music, play, ajax, XML, JavaScript,INT107,Web tect">
	<meta name="author" content="SIT INT107">
	<link type="image/x-icon" href="src/iconapple.jpg">
</head>
<body>
	<script>
		window.onload = function () {
			//console.log("kaw");
			var parallax = document.getElementById("main");
			var playL = document.getElementById( 'l1' ).offsetLeft,
				playT = document.getElementById( 'l1' ).offsetTop,
				bgL = document.getElementById( 'l2' ).offsetLeft,
				bgT = document.getElementById( 'l2' ).offsetTop,
				neL = document.getElementById( 'ne' ).offsetLeft,
				neT = document.getElementById( 'ne' ).offsetTop,
				eL = document.getElementById( 'e' ).offsetLeft,
				eT = document.getElementById( 'e' ).offsetTop;
				seL = document.getElementById( 'se' ).offsetLeft,
				seT = document.getElementById( 'se' ).offsetTop,
				nwL = document.getElementById( 'nw' ).offsetLeft,
				nwT = document.getElementById( 'nw' ).offsetTop,
				wL = document.getElementById( 'w' ).offsetLeft,
				wT = document.getElementById( 'w' ).offsetTop,
				swL = document.getElementById( 'sw' ).offsetLeft,
				swT = document.getElementById( 'sw' ).offsetTop;
			//console.log(playL + "      " + playT);
			parallax.onmousemove = function ( event ) {
				//console.log("onmousemove");
				event = event || window.event;
				var x = event.clientX - parallax.offsetLeft,
					y = event.clientY - parallax.offsetTop;

				//mouseParallax( 'playbt', playL, playT, x, y, 0 );
				mouseParallax( 'bg', bgL, bgT, x, y, 0 );
				mouseParallax( 'ne', neL, neT, x, y, 2 );
				mouseParallax( 'e', eL, eT, x, y, 10 );
				mouseParallax( 'se', seL, seT, x, y, 5 );
				mouseParallax( 'nw', nwL, nwT, x, y, 2 );
				mouseParallax( 'w', wL, wT, x, y, 10 );
				mouseParallax( 'sw', swL, swT, x, y, 5 );
			}

			function mouseParallax ( id, left, top, mouseX, mouseY, speed ){
				
				//console.log("mouseParallax");
				var obj = document.getElementById(id);
				//console.log(obj);
				var parentObj = obj.parentNode,
				containerWidth = parseInt( parentObj.offsetWidth ),
				containerHeight = parseInt( parentObj.offsetHeight );
				// containerHeight=parseInt(getHeight(obj));
				// containerWidth=parseInt(getW(obj));
				containerHeight=obj.clientWidth;
				containerWidth=obj.clientHeight;
				//console.log("conW = "+containerWidth+"\nConH = "+containerHeight);
				obj.style.left = left - ( ( ( mouseX - ( parseInt( obj.offsetHeight ) / 2 + left ) ) / containerWidth ) * speed ) + 'px';
				//containerHeight = 1200;
				obj.style.top = top - ( ( ( mouseY - ( parseInt( obj.offsetHeight ) / 2 + top ) ) / containerHeight ) * speed ) + 'px';
				// obj.style.top = left - ( ( ( mouseX - ( parseInt( obj.offsetWidth ) / 2 + left ) ) / containerWidth ) * speed ) + 'px';
				//console.log(obj.style.left + "      " + obj.style.top);				
			}
			
			/*var cover = [0,1,2,3,4,5];
			random();
			function random(){		
				for (var i = 0.; i <= 5 ; i++) {
					var randomCover = Math.floor((Math.random()*6 ));
					var temp = cover[i]
					cover[i] = cover[randomCover];
					cover[randomCover] = temp;
				};
				console.log(cover);
			}*/
			cover = [
				"coldplay1.jpg",
				"divide_ed.jpg",
				"bruno.jpg",
				"twentyonepilots.jpg",
				"katyperry.jpg",
				"imaginedragon.jpg"];
			random();
			function random(){		
				for (var i = 0.; i <= 5 ; i++) {
					var randomCover = Math.floor((Math.random()*6 ));
					var temp = cover[i]
					cover[i] = cover[randomCover];
					cover[randomCover] = temp;
				};
				console.log(cover);
			}
			showCover();
			////////------------XML-----------------///////////////////
			var x,xmlhttp,xmlDoc
			xmlhttp = new XMLHttpRequest();
			xmlhttp.open("GET", "src/music.xml", false);
			xmlhttp.send();
			xmlDoc = xmlhttp.responseXML; 
			x = xmlDoc.getElementsByTagName("ARTIST");			
			img1 = x[0].getElementsByTagName("IMAGE")[0].childNodes[0].nodeValue;	
			img2 = x[1].getElementsByTagName("IMAGE")[0].childNodes[0].nodeValue;		
			document.getElementById("nw").src = img1;
			document.getElementById("ne").src = img2;
			////////------------XML-----------------///////////////////
		}

	</script>
	<main id = "main">
		<div id="l2">
			<img id = "bg" class = "parallax" src = "src/bg5.jpg" width = "100%" >
		</div>
		<div id="l1">
			<img id = "playbt" class = "parallax" src = "src/playbt.png" width = "15%">
		</div>
		<div id="s1">
			<img id = "ne" class = "parallax" width = "13%">
			<img id = "se" class = "parallax" width = "12%">
			<img id = "e" class = "parallax" width = "18%">
			<img id = "nw" class = "parallax" width = "13%">
			<img id = "sw" class = "parallax" width = "12%">
			<img id = "w" class = "parallax" width = "18%">
		</div>
	</main>
	<nav class = "navbar">
		<div class = "headbar">
			<ul>
				<span id = "banana"><li>banana</li></span>
				<span id = "icon"><li id = "icon" onMouseOver = "headside(0)"><img src="src/banana.png"></li></span>
				<li onMouseOver = "headside(1)" >Music</li>
				<span id = "minion"><li onMouseOver = "headside(2)">Minion!</li></span>
				<li onMouseOver = fu"headside(3)">about Us</li>
				<li onMouseOver = "headside(4)">contact</li>	
			</ul>			
		</div>
	</nav>	
	<script>
		function showCover(){
			document.getElementById("ne").src = "cover/" + cover[0];
			document.getElementById("e").src = "cover/" + cover[1];
			document.getElementById("se").src = "cover/" + cover[2];		
			document.getElementById("nw").src = "cover/" + cover[3];
			document.getElementById("w").src = "cover/" + cover[4];
			document.getElementById("sw").src = "cover/" + cover[5];		
		}
		/*function headside(i){
			switch(i){
				case 0:
					document.getElementById("icon").innerHTML = '<li id = "icon"><img src="src/banana4.png"></li>';
					window.setTimeout( function(){ change(0); } , 3000 );
					playSound(0);
					break;
				case 1: 
					alert("Bello!");
					break;
				case 2: 
					document.getElementById("minion").innerHTML = '<li style = "color:lightgrey" >Minion!</li>';
					window.setTimeout( function(){ change(1); } , 3000 );
					playSound(1);
					break;
				case 3: alert("59130500073\n59130500100\n59130500128\n59130500133\n59130500136\n59130500139");break;
				case 4: alert("Tanapat Choochot");break;
			}
		}
		function playSound(j){
			switch(j){
				case 0:
					var audio = new Audio('src/bababa.mp3');
					audio.volume= .3;
					audio.play();
					break;
				case 1: 
					var audio = new Audio('src/lalo.mp3');
					audio.volume= .1;
					audio.play();
					break;
				}
		}
		function change(i){
			switch(i){
				case 0:
					document.getElementById("icon").innerHTML = '<li id = "icon" onMouseOver = "headside(0)"><img src="src/banana.png"></li>';
					break;
				case 1:
					document.getElementById("minion").innerHTML = '<li onMouseOver = "headside(2)" >Minion!</li>';
					break;
			}
		}*/
	</script>
</body>
</html>